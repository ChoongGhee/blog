<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold" fill="#333333">Hidden Sequence Problem 시각화</text>
  
  <!-- Key Formula Highlight -->
  <rect x="100" y="70" width="600" height="60" fill="#e8f4f8" rx="8" ry="8" stroke="#3498db" stroke-width="2"/>
  <text x="400" y="100" font-family="Arial" font-size="22" text-anchor="middle" font-weight="bold" fill="#2980b9">핵심 수식: differences[i] = hidden[i+1] - hidden[i]</text>
  <text x="400" y="125" font-family="Arial" font-size="16" text-anchor="middle" fill="#444444">differences = [1, -3, 4], lower = 1, upper = 6</text>
  
  <!-- Differences Array Visualization -->
  <rect x="150" y="150" width="500" height="70" fill="#fef9e7" rx="8" ry="8" stroke="#f39c12" stroke-width="3"/>
  <text x="400" y="175" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#d35400">differences 배열</text>
  
  <!-- Differences array elements -->
  <rect x="230" y="185" width="60" height="30" fill="#f39c12" rx="4" ry="4" stroke="#d35400" stroke-width="2"/>
  <rect x="300" y="185" width="60" height="30" fill="#f39c12" rx="4" ry="4" stroke="#d35400" stroke-width="2"/>
  <rect x="370" y="185" width="60" height="30" fill="#f39c12" rx="4" ry="4" stroke="#d35400" stroke-width="2"/>
  
  <text x="260" y="205" font-family="Arial" font-size="16" text-anchor="middle" fill="white">1</text>
  <text x="330" y="205" font-family="Arial" font-size="16" text-anchor="middle" fill="white">-3</text>
  <text x="400" y="205" font-family="Arial" font-size="16" text-anchor="middle" fill="white">4</text>
  
  <text x="210" y="205" font-family="Arial" font-size="14" text-anchor="end" fill="#d35400">[0]:</text>
  <text x="280" y="205" font-family="Arial" font-size="14" text-anchor="end" fill="#d35400">[1]:</text>
  <text x="350" y="205" font-family="Arial" font-size="14" text-anchor="end" fill="#d35400">[2]:</text>
  
  <!-- Line representing the valid range -->
  <line x1="100" y1="250" x2="700" y2="250" stroke="#333333" stroke-width="3"/>
  
  <!-- Range markers -->
  <line x1="100" y1="245" x2="100" y2="255" stroke="#333333" stroke-width="3"/>
  <line x1="700" y1="245" x2="700" y2="255" stroke="#333333" stroke-width="3"/>
  
  <!-- Range values -->
  <text x="100" y="270" font-family="Arial" font-size="16" text-anchor="middle" fill="#333333">1</text>
  <text x="700" y="270" font-family="Arial" font-size="16" text-anchor="middle" fill="#333333">6</text>
  <text x="400" y="270" font-family="Arial" font-size="14" text-anchor="middle" fill="#666666">유효 범위 [lower, upper]</text>
  
  <!-- First valid sequence -->
  <text x="250" y="300" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#2980b9">가능한 시퀀스 #1</text>
  
  <!-- First sequence element boxes -->
  <rect x="130" y="320" width="60" height="60" fill="#3498db" rx="5" ry="5" stroke="#2980b9" stroke-width="2"/>
  <rect x="230" y="320" width="60" height="60" fill="#3498db" rx="5" ry="5" stroke="#2980b9" stroke-width="2"/>
  <rect x="330" y="320" width="60" height="60" fill="#3498db" rx="5" ry="5" stroke="#2980b9" stroke-width="2"/>
  <rect x="430" y="320" width="60" height="60" fill="#3498db" rx="5" ry="5" stroke="#2980b9" stroke-width="2"/>
  
  <!-- First sequence values -->
  <text x="160" y="340" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[0]</text>
  <text x="260" y="340" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[1]</text>
  <text x="360" y="340" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[2]</text>
  <text x="460" y="340" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[3]</text>
  
  <text x="160" y="365" font-family="Arial" font-size="24" text-anchor="middle" fill="white">3</text>
  <text x="260" y="365" font-family="Arial" font-size="24" text-anchor="middle" fill="white">4</text>
  <text x="360" y="365" font-family="Arial" font-size="24" text-anchor="middle" fill="white">1</text>
  <text x="460" y="365" font-family="Arial" font-size="24" text-anchor="middle" fill="white">5</text>
  
  <!-- First sequence differences -->
  <path d="M190 350 L230 350" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M290 350 L330 350" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M390 350 L430 350" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Differences formula annotations -->
  <rect x="170" y="390" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  <rect x="270" y="390" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  <rect x="370" y="390" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  
  <text x="210" y="407" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">4-3=1</text>
  <text x="310" y="407" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">1-4=-3</text>
  <text x="410" y="407" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">5-1=4</text>
  
  <!-- Second valid sequence -->
  <text x="250" y="440" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#16a085">가능한 시퀀스 #2</text>
  
  <!-- Second sequence element boxes -->
  <rect x="130" y="460" width="60" height="60" fill="#1abc9c" rx="5" ry="5" stroke="#16a085" stroke-width="2"/>
  <rect x="230" y="460" width="60" height="60" fill="#1abc9c" rx="5" ry="5" stroke="#16a085" stroke-width="2"/>
  <rect x="330" y="460" width="60" height="60" fill="#1abc9c" rx="5" ry="5" stroke="#16a085" stroke-width="2"/>
  <rect x="430" y="460" width="60" height="60" fill="#1abc9c" rx="5" ry="5" stroke="#16a085" stroke-width="2"/>
  
  <!-- Second sequence values -->
  <text x="160" y="480" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[0]</text>
  <text x="260" y="480" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[1]</text>
  <text x="360" y="480" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[2]</text>
  <text x="460" y="480" font-family="Arial" font-size="12" text-anchor="middle" fill="white">hidden[3]</text>
  
  <text x="160" y="505" font-family="Arial" font-size="24" text-anchor="middle" fill="white">4</text>
  <text x="260" y="505" font-family="Arial" font-size="24" text-anchor="middle" fill="white">5</text>
  <text x="360" y="505" font-family="Arial" font-size="24" text-anchor="middle" fill="white">2</text>
  <text x="460" y="505" font-family="Arial" font-size="24" text-anchor="middle" fill="white">6</text>
  
  <!-- Second sequence differences -->
  <path d="M190 490 L230 490" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M290 490 L330 490" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  <path d="M390 490 L430 490" stroke="#f39c12" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Differences formula annotations -->
  <rect x="170" y="530" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  <rect x="270" y="530" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  <rect x="370" y="530" width="80" height="25" fill="#fef9e7" rx="4" ry="4" stroke="#f39c12" stroke-width="2"/>
  
  <text x="210" y="547" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">5-4=1</text>
  <text x="310" y="547" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">2-5=-3</text>
  <text x="410" y="547" font-family="Arial" font-size="14" text-anchor="middle" fill="#d35400">6-2=4</text>
  
  <!-- Invalid sequence example -->
  <rect x="550" y="320" width="200" height="190" fill="#ffeae7" rx="8" ry="8" stroke="#e74c3c" stroke-width="2"/>
  <text x="650" y="345" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#c0392b">불가능한 시퀀스</text>
  
  <!-- Invalid sequence element boxes -->
  <rect x="570" y="360" width="50" height="50" fill="#e74c3c" rx="5" ry="5" stroke="#c0392b" stroke-width="2"/>
  <rect x="650" y="360" width="50" height="50" fill="#e74c3c" rx="5" ry="5" stroke="#c0392b" stroke-width="2"/>
  <rect x="570" y="430" width="50" height="50" fill="#e74c3c" rx="5" ry="5" stroke="#c0392b" stroke-width="2"/>
  <rect x="650" y="430" width="50" height="50" fill="#e74c3c" rx="5" ry="5" stroke="#c0392b" stroke-width="2" opacity="0.9"/>
  
  <!-- Invalid sequence values -->
  <text x="595" y="390" font-family="Arial" font-size="20" text-anchor="middle" fill="white">5</text>
  <text x="675" y="390" font-family="Arial" font-size="20" text-anchor="middle" fill="white">6</text>
  <text x="595" y="460" font-family="Arial" font-size="20" text-anchor="middle" fill="white">3</text>
  <text x="675" y="460" font-family="Arial" font-size="20" text-anchor="middle" fill="white">7</text>
  
  <!-- Invalid marker -->
  <line x1="665" y1="445" x2="685" y2="465" stroke="#c0392b" stroke-width="4"/>
  <line x1="685" y1="445" x2="665" y2="465" stroke="#c0392b" stroke-width="4"/>
  <text x="705" y="460" font-family="Arial" font-size="14" text-anchor="start" fill="#c0392b">범위 밖!</text>
  
  <!-- First differences formula -->
  <path d="M620 375 L650 375" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="635" y="365" font-family="Arial" font-size="12" text-anchor="middle" fill="#d35400">+1</text>
  
  <!-- Second differences formula -->
  <path d="M650 405 L595 430" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="620" y="425" font-family="Arial" font-size="12" text-anchor="middle" fill="#d35400">-3</text>
  
  <!-- Third differences formula -->
  <path d="M620 445 L650 445" stroke="#f39c12" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="635" y="475" font-family="Arial" font-size="12" text-anchor="middle" fill="#d35400">+4</text>
  
  <!-- Output -->
  <rect x="100" y="565" width="600" height="30" fill="#eaeded" rx="8" ry="8" stroke="#7f8c8d" stroke-width="2"/>
  <text x="400" y="585" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#333333">결과: 가능한 시퀀스의 수 = 2</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f39c12"/>
    </marker>
  </defs>
</svg>